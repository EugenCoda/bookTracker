extends layout

block content
  h1= title

  table.mylist
    thead
      tr
        th Title 
        th Author 
        th Status 
        th Availability 
        th Date Added 
        th Date Started 
        th Date Finished 
    tbody
      - personal_list.sort(function(a, b) {let textA = a.book.title.toUpperCase(); let textB = b.book.title.toUpperCase(); return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;});
      each val, index in personal_list
        tr
          td
            a(href=personal_list[index].book.url) #{personal_list[index].book.title}  
          td
            a(href=personal_list[index].book.author.url) #{personal_list[index].book.author.name}  
          td #{personal_list[index].status}  
          td #{personal_list[index].availability}  
          td #{moment(personal_list[index].date_added).format('YYYY-MMM-DD')}  
          td #{moment(personal_list[index].date_started).format('YYYY-MMM-DD')}  
          td #{moment(personal_list[index].date_finished).format('YYYY-MMM-DD')}  
          td 
            a(href=personal_list[index].book._id+'/edit') Edit  
          td 
            a(href=personal_list[index].book._id+'/remove') Remove 
      else
        p There are no books.